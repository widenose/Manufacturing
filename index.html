<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Retail Customer Engagement Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
  * { box-sizing: border-box; margin: 0; padding: 0; font-family: Arial, sans-serif; }
  html, body { width: 100%; height: 100%; overflow: hidden; }

  body { background: #f4f5f7; color: #333; }

  .layout {
    display: grid;
    grid-template-columns: 220px 1fr;
    grid-template-rows: 60px 1fr;
    width: 100vw;
    height: 100vh;
  }

  .sidebar {
    grid-row: 1 / span 2;
    background: #1f2933;
    color: #fff;
    padding: 20px;
  }

  .sidebar h2 { font-size: 18px; margin-bottom: 18px; }

  .header {
    grid-column: 2;
    background: #ffffff;
    border-bottom: 1px solid #e5e7eb;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 20px;
  }

  .main {
    grid-column: 2;
    padding: 14px 16px;
    height: calc(100vh - 60px);
    display: grid;
    grid-template-rows: 110px 1fr;
    gap: 14px;
  }

  /* KPIs */
  .cards {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 14px;
  }

  .card {
    background: #ffffff;
    border-radius: 10px;
    padding: 14px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.08);
    overflow: hidden;
  }

  .card-title {
    font-size: 12px;
    text-transform: uppercase;
    color: #6b7280;
    margin-bottom: 6px;
  }

  .card-value {
    font-size: 28px;
    font-weight: bold;
  }

  /* Visual grid */
  .visuals {
    display: grid;
    grid-template-columns: 1fr 1fr 0.95fr;
    grid-template-rows: 1fr 1fr;
    gap: 14px;
    min-height: 0;
  }

  .chart-card { display: flex; flex-direction: column; min-height: 0; }
  .chart-wrap { flex: 1; min-height: 0; }
  canvas { width: 100% !important; height: 100% !important; }

  .engagement { grid-column: 1; grid-row: 1; }
  .funnel { grid-column: 2; grid-row: 1; }
  .campaign { grid-column: 1 / span 2; grid-row: 2; }
  .signals { grid-column: 3; grid-row: 1 / span 2; }

  table {
    width: 100%;
    border-collapse: collapse;
    font-size: 13px;
  }

  th, td {
    padding: 8px;
    border-bottom: 1px solid #e5e7eb;
    text-align: left;
  }

  .pill {
    padding: 3px 8px;
    border-radius: 999px;
    font-size: 11px;
    white-space: nowrap;
  }

  .good { background: #dcfce7; color: #166534; }
  .mid { background: #fef9c3; color: #854d0e; }
  .bad { background: #fee2e2; color: #991b1b; }
</style>
</head>

<body>
<div class="layout">
  <aside class="sidebar">
    <h2>Retail</h2>
    Engagement<br/>
    Campaigns<br/>
    Stores<br/>
    Digital
  </aside>

  <header class="header">
    <strong>Customer Engagement Dashboard</strong>
    <span>Live · Updated 2 min ago</span>
  </header>

  <main class="main">
    <!-- KPIs -->
    <section class="cards">
      <div class="card">
        <div class="card-title">Total Engagements</div>
        <div class="card-value">128.4K</div>
      </div>
      <div class="card">
        <div class="card-title">In-Store Conversion</div>
        <div class="card-value">6.8%</div>
      </div>
      <div class="card">
        <div class="card-title">Avg Dwell Time</div>
        <div class="card-value">2m 14s</div>
      </div>
      <div class="card">
        <div class="card-title">Campaign ROI</div>
        <div class="card-value">4.2×</div>
      </div>
    </section>

    <!-- Visuals -->
    <section class="visuals">
      <div class="card chart-card engagement">
        <div class="card-title">Engagement by Channel</div>
        <div class="chart-wrap"><canvas id="engagementChart"></canvas></div>
      </div>

      <div class="card chart-card funnel">
        <div class="card-title">In-Store Engagement Funnel</div>
        <div class="chart-wrap"><canvas id="funnelChart"></canvas></div>
      </div>

      <div class="card chart-card campaign">
        <div class="card-title">Campaign Performance by Location</div>
        <div class="chart-wrap"><canvas id="campaignChart"></canvas></div>
      </div>

      <div class="card chart-card signals">
        <div class="card-title">Live Engagement Signals</div>
        <table>
          <tr><th>Channel</th><th>Metric</th><th>Status</th></tr>
          <tr><td>Social</td><td>Sentiment: 72%</td><td><span class="pill good">Positive</span></td></tr>
          <tr><td>Signage</td><td>CTR: 9.1%</td><td><span class="pill good">Strong</span></td></tr>
          <tr><td>Web Chat</td><td>Wait: 38 sec</td><td><span class="pill good">Healthy</span></td></tr>
          <tr><td>In-Store</td><td>Dwell ↓</td><td><span class="pill mid">Watch</span></td></tr>
          <tr><td>Mobile</td><td>App Opens</td><td><span class="pill good">Trending</span></td></tr>
        </table>
      </div>
    </section>
  </main>
</div>

<script>
const baseOpts = { responsive:true, maintainAspectRatio:false, animation:false };

new Chart(document.getElementById('engagementChart'), {
  type: 'line',
  data: {
    labels:['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],
    datasets:[
      { label:'Social', data:[12,14,18,22,26,31,28], borderColor:'#3b82f6', tension:.3 },
      { label:'Signage', data:[8,9,12,15,18,20,19], borderColor:'#10b981', tension:.3 },
      { label:'Web/Chat', data:[6,7,8,10,13,14,12], borderColor:'#f97316', tension:.3 }
    ]
  },
  options: baseOpts
});

new Chart(document.getElementById('funnelChart'), {
  type: 'bar',
  data: {
    labels:['Views','Interactions','Adds to Cart','Purchases'],
    datasets:[{
      data:[42000, 9600, 3100, 1800],
      backgroundColor:'#6366f1'
    }]
  },
  options: baseOpts
});

new Chart(document.getElementById('campaignChart'), {
  type: 'bar',
  data: {
    labels:['Store A','Store B','Store C','Store D','Online'],
    datasets:[{
      label:'Engagement Lift (%)',
      data:[18, 24, 12, 20, 28],
      backgroundColor:'#22c55e'
    }]
  },
  options: baseOpts
});
</script>
</body>
</html>
